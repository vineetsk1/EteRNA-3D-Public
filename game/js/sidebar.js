
var motifContainers = [];

// 1 ) Event code for when the user is searching for something
// If the string is empty, show all motifs
// Otherwise, only show motifs that have the search string
// Then recalculate the scrollbar length
document.getElementById("search").onkeyup = function() {
  var key = this.value.toLowerCase().trim();
  for(var i = 0; i < motifContainers.length; i++) {
    if(key == "") motifContainers[i].style.display = "block";
    else if(motifContainers[i].childNodes[1].innerHTML.toLowerCase().indexOf(key) >= 0) motifContainers[i].style.display = "block";
    else motifContainers[i].style.display = "none";
  }
  scrollbar.recalculateLayout(); 
}

// 2 ) When we are dynamically creating motifs, they are out of order
// Because the requests are all sent at the same time, and the images
// load at different rates. This sorts the motifs based off of their
// motif number. It doesn't recalculate scrollbar because the number
// of motifs doesn't change.
function resortMotifs() {
  var toSort = document.getElementById('scrollbar_content').children;
  toSort = Array.prototype.slice.call(toSort, 0);

  toSort.sort(function(a, b) {
    var aord = a.childNodes[1].innerHTML;
    var bord = b.childNodes[1].innerHTML;
    // console.log(aord + " " + bord);
    if(aord == "Helix") return -1;
    if(bord == "Helix") return 1;
    
    if(aord > bord) return 1;
    else if(aord == bord) return 0;
    return -1;
    // return aord - bord;
  });

  var parent = document.getElementById('scrollbar_content');
  parent.innerHTML = "";

  for(var i = 0, l = toSort.length; i < l; i++) {
      parent.appendChild(toSort[i]);
  }
}

// 3) Create the actual scrollbar and set the number of motifss
var scrollbar = new Control.ScrollBar('scrollbar_content','scrollbar_track');  
var scrollContainer = document.getElementById("scrollbar_content");
var max = 733;

// 4 ) Dynamically create each of the motif containers - very messy
// First create the image, if it loads (if it is a valid motif), then
// create the motifcontainer, the motif description, the motif overlay,
// and the motif add button, then add all these to the overall scroll container.
// Then, recalculate the scroll container. Once we reach the very end of all the
// motifs, we resort, fade out the loading motif overlay, and after 0.5s remove
// it completely.

var motifurls = ["motifs/two_ways/TWOWAY.157D.0/TWOWAY.157D.0.pdb", "motifs/two_ways/TWOWAY.157D.1/TWOWAY.157D.1.pdb", "motifs/two_ways/TWOWAY.165D.0/TWOWAY.165D.0.pdb", "motifs/two_ways/TWOWAY.1A34.0/TWOWAY.1A34.0.pdb", "motifs/two_ways/TWOWAY.1CSL.0/TWOWAY.1CSL.0.pdb", "motifs/two_ways/TWOWAY.1D4R.0/TWOWAY.1D4R.0.pdb", "motifs/two_ways/TWOWAY.1D4R.1/TWOWAY.1D4R.1.pdb", "motifs/two_ways/TWOWAY.1D4R.2/TWOWAY.1D4R.2.pdb", "motifs/two_ways/TWOWAY.1DFU.0/TWOWAY.1DFU.0.pdb", "motifs/two_ways/TWOWAY.1DUQ.0/TWOWAY.1DUQ.0.pdb", "motifs/two_ways/TWOWAY.1DUQ.1/TWOWAY.1DUQ.1.pdb", "motifs/two_ways/TWOWAY.1DUQ.2/TWOWAY.1DUQ.2.pdb", "motifs/two_ways/TWOWAY.1DUQ.3/TWOWAY.1DUQ.3.pdb", "motifs/two_ways/TWOWAY.1DUQ.7/TWOWAY.1DUQ.7.pdb", "motifs/two_ways/TWOWAY.1FEU.0/TWOWAY.1FEU.0.pdb", "motifs/two_ways/TWOWAY.1FEU.1/TWOWAY.1FEU.1.pdb", "motifs/two_ways/TWOWAY.1FUF.0/TWOWAY.1FUF.0.pdb", "motifs/two_ways/TWOWAY.1FUF.1/TWOWAY.1FUF.1.pdb", "motifs/two_ways/TWOWAY.1GID.0/TWOWAY.1GID.0.pdb", "motifs/two_ways/TWOWAY.1GID.1/TWOWAY.1GID.1.pdb", "motifs/two_ways/TWOWAY.1GID.12/TWOWAY.1GID.12.pdb", "motifs/two_ways/TWOWAY.1GID.13/TWOWAY.1GID.13.pdb", "motifs/two_ways/TWOWAY.1GID.2/TWOWAY.1GID.2.pdb", "motifs/two_ways/TWOWAY.1GID.3/TWOWAY.1GID.3.pdb", "motifs/two_ways/TWOWAY.1GID.4/TWOWAY.1GID.4.pdb", "motifs/two_ways/TWOWAY.1GID.5/TWOWAY.1GID.5.pdb", "motifs/two_ways/TWOWAY.1GID.6/TWOWAY.1GID.6.pdb", "motifs/two_ways/TWOWAY.1GID.7/TWOWAY.1GID.7.pdb", "motifs/two_ways/TWOWAY.1GID.8/TWOWAY.1GID.8.pdb", "motifs/two_ways/TWOWAY.1GID.9/TWOWAY.1GID.9.pdb", "motifs/two_ways/TWOWAY.1I9X.0/TWOWAY.1I9X.0.pdb", "motifs/two_ways/TWOWAY.1J9H.0/TWOWAY.1J9H.0.pdb", "motifs/two_ways/TWOWAY.1J9H.1/TWOWAY.1J9H.1.pdb", "motifs/two_ways/TWOWAY.1J9H.2/TWOWAY.1J9H.2.pdb", "motifs/two_ways/TWOWAY.1J9H.3/TWOWAY.1J9H.3.pdb", "motifs/two_ways/TWOWAY.1JBR.0/TWOWAY.1JBR.0.pdb", "motifs/two_ways/TWOWAY.1JBR.1/TWOWAY.1JBR.1.pdb", "motifs/two_ways/TWOWAY.1JBS.0/TWOWAY.1JBS.0.pdb", "motifs/two_ways/TWOWAY.1JBS.1/TWOWAY.1JBS.1.pdb", "motifs/two_ways/TWOWAY.1JID.0/TWOWAY.1JID.0.pdb", "motifs/two_ways/TWOWAY.1JZV.0/TWOWAY.1JZV.0.pdb", "motifs/two_ways/TWOWAY.1JZV.1/TWOWAY.1JZV.1.pdb", "motifs/two_ways/TWOWAY.1KD5.0/TWOWAY.1KD5.0.pdb", "motifs/two_ways/TWOWAY.1LNG.0/TWOWAY.1LNG.0.pdb", "motifs/two_ways/TWOWAY.1LNG.1/TWOWAY.1LNG.1.pdb", "motifs/two_ways/TWOWAY.1LNG.2/TWOWAY.1LNG.2.pdb", "motifs/two_ways/TWOWAY.1LNG.3/TWOWAY.1LNG.3.pdb", "motifs/two_ways/TWOWAY.1LNT.0/TWOWAY.1LNT.0.pdb", "motifs/two_ways/TWOWAY.1M5O.0/TWOWAY.1M5O.0.pdb", "motifs/two_ways/TWOWAY.1M5O.1/TWOWAY.1M5O.1.pdb", "motifs/two_ways/TWOWAY.1M5O.2/TWOWAY.1M5O.2.pdb", "motifs/two_ways/TWOWAY.1MJI.0/TWOWAY.1MJI.0.pdb", "motifs/two_ways/TWOWAY.1MJI.1/TWOWAY.1MJI.1.pdb", "motifs/two_ways/TWOWAY.1MSW.0/TWOWAY.1MSW.0.pdb", "motifs/two_ways/TWOWAY.1MWL.0/TWOWAY.1MWL.0.pdb", "motifs/two_ways/TWOWAY.1MWL.3/TWOWAY.1MWL.3.pdb", "motifs/two_ways/TWOWAY.1NUV.0/TWOWAY.1NUV.0.pdb", "motifs/two_ways/TWOWAY.1NUV.1/TWOWAY.1NUV.1.pdb", "motifs/two_ways/TWOWAY.1NUV.3/TWOWAY.1NUV.3.pdb", "motifs/two_ways/TWOWAY.1O9M.0/TWOWAY.1O9M.0.pdb", "motifs/two_ways/TWOWAY.1O9M.1/TWOWAY.1O9M.1.pdb", "motifs/two_ways/TWOWAY.1O9M.2/TWOWAY.1O9M.2.pdb", "motifs/two_ways/TWOWAY.1O9M.3/TWOWAY.1O9M.3.pdb", "motifs/two_ways/TWOWAY.1OOA.0/TWOWAY.1OOA.0.pdb", "motifs/two_ways/TWOWAY.1OOA.1/TWOWAY.1OOA.1.pdb", "motifs/two_ways/TWOWAY.1OOA.2/TWOWAY.1OOA.2.pdb", "motifs/two_ways/TWOWAY.1Q96.0/TWOWAY.1Q96.0.pdb", "motifs/two_ways/TWOWAY.1Q96.1/TWOWAY.1Q96.1.pdb", "motifs/two_ways/TWOWAY.1Q96.2/TWOWAY.1Q96.2.pdb", "motifs/two_ways/TWOWAY.1QBP.0/TWOWAY.1QBP.0.pdb", "motifs/two_ways/TWOWAY.1QBP.1/TWOWAY.1QBP.1.pdb", "motifs/two_ways/TWOWAY.1QBP.2/TWOWAY.1QBP.2.pdb", "motifs/two_ways/TWOWAY.1QTQ.0/TWOWAY.1QTQ.0.pdb", "motifs/two_ways/TWOWAY.1R3E.0/TWOWAY.1R3E.0.pdb", "motifs/two_ways/TWOWAY.1R3E.1/TWOWAY.1R3E.1.pdb", "motifs/two_ways/TWOWAY.1RPU.0/TWOWAY.1RPU.0.pdb", "motifs/two_ways/TWOWAY.1S72.0/TWOWAY.1S72.0.pdb", "motifs/two_ways/TWOWAY.1S72.1/TWOWAY.1S72.1.pdb", "motifs/two_ways/TWOWAY.1S72.10/TWOWAY.1S72.10.pdb", "motifs/two_ways/TWOWAY.1S72.100/TWOWAY.1S72.100.pdb", "motifs/two_ways/TWOWAY.1S72.101/TWOWAY.1S72.101.pdb", "motifs/two_ways/TWOWAY.1S72.102/TWOWAY.1S72.102.pdb", "motifs/two_ways/TWOWAY.1S72.11/TWOWAY.1S72.11.pdb", "motifs/two_ways/TWOWAY.1S72.12/TWOWAY.1S72.12.pdb", "motifs/two_ways/TWOWAY.1S72.13/TWOWAY.1S72.13.pdb", "motifs/two_ways/TWOWAY.1S72.14/TWOWAY.1S72.14.pdb", "motifs/two_ways/TWOWAY.1S72.15/TWOWAY.1S72.15.pdb", "motifs/two_ways/TWOWAY.1S72.17/TWOWAY.1S72.17.pdb", "motifs/two_ways/TWOWAY.1S72.18/TWOWAY.1S72.18.pdb", "motifs/two_ways/TWOWAY.1S72.19/TWOWAY.1S72.19.pdb", "motifs/two_ways/TWOWAY.1S72.2/TWOWAY.1S72.2.pdb", "motifs/two_ways/TWOWAY.1S72.20/TWOWAY.1S72.20.pdb", "motifs/two_ways/TWOWAY.1S72.22/TWOWAY.1S72.22.pdb", "motifs/two_ways/TWOWAY.1S72.23/TWOWAY.1S72.23.pdb", "motifs/two_ways/TWOWAY.1S72.24/TWOWAY.1S72.24.pdb", "motifs/two_ways/TWOWAY.1S72.25/TWOWAY.1S72.25.pdb", "motifs/two_ways/TWOWAY.1S72.28/TWOWAY.1S72.28.pdb", "motifs/two_ways/TWOWAY.1S72.29/TWOWAY.1S72.29.pdb", "motifs/two_ways/TWOWAY.1S72.3/TWOWAY.1S72.3.pdb", "motifs/two_ways/TWOWAY.1S72.30/TWOWAY.1S72.30.pdb", "motifs/two_ways/TWOWAY.1S72.31/TWOWAY.1S72.31.pdb", "motifs/two_ways/TWOWAY.1S72.32/TWOWAY.1S72.32.pdb", "motifs/two_ways/TWOWAY.1S72.33/TWOWAY.1S72.33.pdb", "motifs/two_ways/TWOWAY.1S72.34/TWOWAY.1S72.34.pdb", "motifs/two_ways/TWOWAY.1S72.36/TWOWAY.1S72.36.pdb", "motifs/two_ways/TWOWAY.1S72.37/TWOWAY.1S72.37.pdb", "motifs/two_ways/TWOWAY.1S72.38/TWOWAY.1S72.38.pdb", "motifs/two_ways/TWOWAY.1S72.39/TWOWAY.1S72.39.pdb", "motifs/two_ways/TWOWAY.1S72.4/TWOWAY.1S72.4.pdb", "motifs/two_ways/TWOWAY.1S72.41/TWOWAY.1S72.41.pdb", "motifs/two_ways/TWOWAY.1S72.42/TWOWAY.1S72.42.pdb", "motifs/two_ways/TWOWAY.1S72.43/TWOWAY.1S72.43.pdb", "motifs/two_ways/TWOWAY.1S72.44/TWOWAY.1S72.44.pdb", "motifs/two_ways/TWOWAY.1S72.46/TWOWAY.1S72.46.pdb", "motifs/two_ways/TWOWAY.1S72.47/TWOWAY.1S72.47.pdb", "motifs/two_ways/TWOWAY.1S72.48/TWOWAY.1S72.48.pdb", "motifs/two_ways/TWOWAY.1S72.49/TWOWAY.1S72.49.pdb", "motifs/two_ways/TWOWAY.1S72.5/TWOWAY.1S72.5.pdb", "motifs/two_ways/TWOWAY.1S72.51/TWOWAY.1S72.51.pdb", "motifs/two_ways/TWOWAY.1S72.52/TWOWAY.1S72.52.pdb", "motifs/two_ways/TWOWAY.1S72.53/TWOWAY.1S72.53.pdb", "motifs/two_ways/TWOWAY.1S72.54/TWOWAY.1S72.54.pdb", "motifs/two_ways/TWOWAY.1S72.57/TWOWAY.1S72.57.pdb", "motifs/two_ways/TWOWAY.1S72.58/TWOWAY.1S72.58.pdb", "motifs/two_ways/TWOWAY.1S72.59/TWOWAY.1S72.59.pdb", "motifs/two_ways/TWOWAY.1S72.6/TWOWAY.1S72.6.pdb", "motifs/two_ways/TWOWAY.1S72.60/TWOWAY.1S72.60.pdb", "motifs/two_ways/TWOWAY.1S72.61/TWOWAY.1S72.61.pdb", "motifs/two_ways/TWOWAY.1S72.62/TWOWAY.1S72.62.pdb", "motifs/two_ways/TWOWAY.1S72.63/TWOWAY.1S72.63.pdb", "motifs/two_ways/TWOWAY.1S72.64/TWOWAY.1S72.64.pdb", "motifs/two_ways/TWOWAY.1S72.65/TWOWAY.1S72.65.pdb", "motifs/two_ways/TWOWAY.1S72.67/TWOWAY.1S72.67.pdb", "motifs/two_ways/TWOWAY.1S72.68/TWOWAY.1S72.68.pdb", "motifs/two_ways/TWOWAY.1S72.69/TWOWAY.1S72.69.pdb", "motifs/two_ways/TWOWAY.1S72.7/TWOWAY.1S72.7.pdb", "motifs/two_ways/TWOWAY.1S72.71/TWOWAY.1S72.71.pdb", "motifs/two_ways/TWOWAY.1S72.74/TWOWAY.1S72.74.pdb", "motifs/two_ways/TWOWAY.1S72.76/TWOWAY.1S72.76.pdb", "motifs/two_ways/TWOWAY.1S72.77/TWOWAY.1S72.77.pdb", "motifs/two_ways/TWOWAY.1S72.78/TWOWAY.1S72.78.pdb", "motifs/two_ways/TWOWAY.1S72.79/TWOWAY.1S72.79.pdb", "motifs/two_ways/TWOWAY.1S72.81/TWOWAY.1S72.81.pdb", "motifs/two_ways/TWOWAY.1S72.82/TWOWAY.1S72.82.pdb", "motifs/two_ways/TWOWAY.1S72.83/TWOWAY.1S72.83.pdb", "motifs/two_ways/TWOWAY.1S72.86/TWOWAY.1S72.86.pdb", "motifs/two_ways/TWOWAY.1S72.87/TWOWAY.1S72.87.pdb", "motifs/two_ways/TWOWAY.1S72.88/TWOWAY.1S72.88.pdb", "motifs/two_ways/TWOWAY.1S72.89/TWOWAY.1S72.89.pdb", "motifs/two_ways/TWOWAY.1S72.90/TWOWAY.1S72.90.pdb", "motifs/two_ways/TWOWAY.1S72.91/TWOWAY.1S72.91.pdb", "motifs/two_ways/TWOWAY.1S72.92/TWOWAY.1S72.92.pdb", "motifs/two_ways/TWOWAY.1S72.93/TWOWAY.1S72.93.pdb", "motifs/two_ways/TWOWAY.1S72.94/TWOWAY.1S72.94.pdb", "motifs/two_ways/TWOWAY.1S72.96/TWOWAY.1S72.96.pdb", "motifs/two_ways/TWOWAY.1S72.97/TWOWAY.1S72.97.pdb", "motifs/two_ways/TWOWAY.1S72.98/TWOWAY.1S72.98.pdb", "motifs/two_ways/TWOWAY.1T0D.1/TWOWAY.1T0D.1.pdb", "motifs/two_ways/TWOWAY.1T0D.3/TWOWAY.1T0D.3.pdb", "motifs/two_ways/TWOWAY.1T0E.1/TWOWAY.1T0E.1.pdb", "motifs/two_ways/TWOWAY.1TFW.0/TWOWAY.1TFW.0.pdb", "motifs/two_ways/TWOWAY.1YZ9.0/TWOWAY.1YZ9.0.pdb", "motifs/two_ways/TWOWAY.1YZ9.1/TWOWAY.1YZ9.1.pdb", "motifs/two_ways/TWOWAY.1Z7F.0/TWOWAY.1Z7F.0.pdb", "motifs/two_ways/TWOWAY.1Z7F.1/TWOWAY.1Z7F.1.pdb", "motifs/two_ways/TWOWAY.1ZH5.0/TWOWAY.1ZH5.0.pdb", "motifs/two_ways/TWOWAY.1ZX7.1/TWOWAY.1ZX7.1.pdb", "motifs/two_ways/TWOWAY.1ZX7.2/TWOWAY.1ZX7.2.pdb", "motifs/two_ways/TWOWAY.1ZX7.3/TWOWAY.1ZX7.3.pdb", "motifs/two_ways/TWOWAY.1ZX7.4/TWOWAY.1ZX7.4.pdb", "motifs/two_ways/TWOWAY.1ZX7.6/TWOWAY.1ZX7.6.pdb", "motifs/two_ways/TWOWAY.1ZX7.8/TWOWAY.1ZX7.8.pdb", "motifs/two_ways/TWOWAY.280D.0/TWOWAY.280D.0.pdb", "motifs/two_ways/TWOWAY.280D.1/TWOWAY.280D.1.pdb", "motifs/two_ways/TWOWAY.2FQN.0/TWOWAY.2FQN.0.pdb", "motifs/two_ways/TWOWAY.2FQN.1/TWOWAY.2FQN.1.pdb", "motifs/two_ways/TWOWAY.2FQN.2/TWOWAY.2FQN.2.pdb", "motifs/two_ways/TWOWAY.2FQN.3/TWOWAY.2FQN.3.pdb", "motifs/two_ways/TWOWAY.2GDI.1/TWOWAY.2GDI.1.pdb", "motifs/two_ways/TWOWAY.2GDI.3/TWOWAY.2GDI.3.pdb", "motifs/two_ways/TWOWAY.2GDI.4/TWOWAY.2GDI.4.pdb", "motifs/two_ways/TWOWAY.2GDI.5/TWOWAY.2GDI.5.pdb", "motifs/two_ways/TWOWAY.2GDI.6/TWOWAY.2GDI.6.pdb", "motifs/two_ways/TWOWAY.2GDI.7/TWOWAY.2GDI.7.pdb", "motifs/two_ways/TWOWAY.2HOJ.0/TWOWAY.2HOJ.0.pdb", "motifs/two_ways/TWOWAY.2HW8.0/TWOWAY.2HW8.0.pdb", "motifs/two_ways/TWOWAY.2NZ4.0/TWOWAY.2NZ4.0.pdb", "motifs/two_ways/TWOWAY.2NZ4.4/TWOWAY.2NZ4.4.pdb", "motifs/two_ways/TWOWAY.2NZ4.5/TWOWAY.2NZ4.5.pdb", "motifs/two_ways/TWOWAY.2NZ4.6/TWOWAY.2NZ4.6.pdb", "motifs/two_ways/TWOWAY.2NZ4.8/TWOWAY.2NZ4.8.pdb", "motifs/two_ways/TWOWAY.2OE5.0/TWOWAY.2OE5.0.pdb", "motifs/two_ways/TWOWAY.2OE5.1/TWOWAY.2OE5.1.pdb", "motifs/two_ways/TWOWAY.2PJP.0/TWOWAY.2PJP.0.pdb", "motifs/two_ways/TWOWAY.2PN4.0/TWOWAY.2PN4.0.pdb", "motifs/two_ways/TWOWAY.2PN4.1/TWOWAY.2PN4.1.pdb", "motifs/two_ways/TWOWAY.2PN4.2/TWOWAY.2PN4.2.pdb", "motifs/two_ways/TWOWAY.2PN4.3/TWOWAY.2PN4.3.pdb", "motifs/two_ways/TWOWAY.2PN4.4/TWOWAY.2PN4.4.pdb", "motifs/two_ways/TWOWAY.2PN4.5/TWOWAY.2PN4.5.pdb", "motifs/two_ways/TWOWAY.2PXV.0/TWOWAY.2PXV.0.pdb", "motifs/two_ways/TWOWAY.2PXV.1/TWOWAY.2PXV.1.pdb", "motifs/two_ways/TWOWAY.2PXV.2/TWOWAY.2PXV.2.pdb", "motifs/two_ways/TWOWAY.2QEK.0/TWOWAY.2QEK.0.pdb", "motifs/two_ways/TWOWAY.2QEK.1/TWOWAY.2QEK.1.pdb", "motifs/two_ways/TWOWAY.2QUX.0/TWOWAY.2QUX.0.pdb", "motifs/two_ways/TWOWAY.2QUX.1/TWOWAY.2QUX.1.pdb", "motifs/two_ways/TWOWAY.2QUX.2/TWOWAY.2QUX.2.pdb", "motifs/two_ways/TWOWAY.2QUX.4/TWOWAY.2QUX.4.pdb", "motifs/two_ways/TWOWAY.2QUX.5/TWOWAY.2QUX.5.pdb", "motifs/two_ways/TWOWAY.2R20.0/TWOWAY.2R20.0.pdb", "motifs/two_ways/TWOWAY.2R22.0/TWOWAY.2R22.0.pdb", "motifs/two_ways/TWOWAY.2UWM.0/TWOWAY.2UWM.0.pdb", "motifs/two_ways/TWOWAY.2UWM.1/TWOWAY.2UWM.1.pdb", "motifs/two_ways/TWOWAY.2UWM.2/TWOWAY.2UWM.2.pdb", "motifs/two_ways/TWOWAY.2VPL.0/TWOWAY.2VPL.0.pdb", "motifs/two_ways/TWOWAY.2VPL.1/TWOWAY.2VPL.1.pdb", "motifs/two_ways/TWOWAY.2VPL.2/TWOWAY.2VPL.2.pdb", "motifs/two_ways/TWOWAY.2VPL.3/TWOWAY.2VPL.3.pdb", "motifs/two_ways/TWOWAY.2VPL.4/TWOWAY.2VPL.4.pdb", "motifs/two_ways/TWOWAY.2VQE.0/TWOWAY.2VQE.0.pdb", "motifs/two_ways/TWOWAY.2VQE.1/TWOWAY.2VQE.1.pdb", "motifs/two_ways/TWOWAY.2VQE.10/TWOWAY.2VQE.10.pdb", "motifs/two_ways/TWOWAY.2VQE.11/TWOWAY.2VQE.11.pdb", "motifs/two_ways/TWOWAY.2VQE.12/TWOWAY.2VQE.12.pdb", "motifs/two_ways/TWOWAY.2VQE.13/TWOWAY.2VQE.13.pdb", "motifs/two_ways/TWOWAY.2VQE.14/TWOWAY.2VQE.14.pdb", "motifs/two_ways/TWOWAY.2VQE.15/TWOWAY.2VQE.15.pdb", "motifs/two_ways/TWOWAY.2VQE.16/TWOWAY.2VQE.16.pdb", "motifs/two_ways/TWOWAY.2VQE.18/TWOWAY.2VQE.18.pdb", "motifs/two_ways/TWOWAY.2VQE.19/TWOWAY.2VQE.19.pdb", "motifs/two_ways/TWOWAY.2VQE.2/TWOWAY.2VQE.2.pdb", "motifs/two_ways/TWOWAY.2VQE.24/TWOWAY.2VQE.24.pdb", "motifs/two_ways/TWOWAY.2VQE.25/TWOWAY.2VQE.25.pdb", "motifs/two_ways/TWOWAY.2VQE.26/TWOWAY.2VQE.26.pdb", "motifs/two_ways/TWOWAY.2VQE.27/TWOWAY.2VQE.27.pdb", "motifs/two_ways/TWOWAY.2VQE.28/TWOWAY.2VQE.28.pdb", "motifs/two_ways/TWOWAY.2VQE.29/TWOWAY.2VQE.29.pdb", "motifs/two_ways/TWOWAY.2VQE.3/TWOWAY.2VQE.3.pdb", "motifs/two_ways/TWOWAY.2VQE.30/TWOWAY.2VQE.30.pdb", "motifs/two_ways/TWOWAY.2VQE.31/TWOWAY.2VQE.31.pdb", "motifs/two_ways/TWOWAY.2VQE.32/TWOWAY.2VQE.32.pdb", "motifs/two_ways/TWOWAY.2VQE.33/TWOWAY.2VQE.33.pdb", "motifs/two_ways/TWOWAY.2VQE.34/TWOWAY.2VQE.34.pdb", "motifs/two_ways/TWOWAY.2VQE.35/TWOWAY.2VQE.35.pdb", "motifs/two_ways/TWOWAY.2VQE.36/TWOWAY.2VQE.36.pdb", "motifs/two_ways/TWOWAY.2VQE.39/TWOWAY.2VQE.39.pdb", "motifs/two_ways/TWOWAY.2VQE.40/TWOWAY.2VQE.40.pdb", "motifs/two_ways/TWOWAY.2VQE.41/TWOWAY.2VQE.41.pdb", "motifs/two_ways/TWOWAY.2VQE.42/TWOWAY.2VQE.42.pdb", "motifs/two_ways/TWOWAY.2VQE.43/TWOWAY.2VQE.43.pdb", "motifs/two_ways/TWOWAY.2VQE.45/TWOWAY.2VQE.45.pdb", "motifs/two_ways/TWOWAY.2VQE.46/TWOWAY.2VQE.46.pdb", "motifs/two_ways/TWOWAY.2VQE.47/TWOWAY.2VQE.47.pdb", "motifs/two_ways/TWOWAY.2VQE.49/TWOWAY.2VQE.49.pdb", "motifs/two_ways/TWOWAY.2VQE.50/TWOWAY.2VQE.50.pdb", "motifs/two_ways/TWOWAY.2VQE.51/TWOWAY.2VQE.51.pdb", "motifs/two_ways/TWOWAY.2VQE.56/TWOWAY.2VQE.56.pdb", "motifs/two_ways/TWOWAY.2VQE.57/TWOWAY.2VQE.57.pdb", "motifs/two_ways/TWOWAY.2VQE.59/TWOWAY.2VQE.59.pdb", "motifs/two_ways/TWOWAY.2VQE.6/TWOWAY.2VQE.6.pdb", "motifs/two_ways/TWOWAY.2VQE.7/TWOWAY.2VQE.7.pdb", "motifs/two_ways/TWOWAY.2VQE.8/TWOWAY.2VQE.8.pdb", "motifs/two_ways/TWOWAY.2VQE.9/TWOWAY.2VQE.9.pdb", /*"motifs/two_ways/TWOWAY.2Y9H.0/TWOWAY.2Y9H.0.pdb",*/ "motifs/two_ways/TWOWAY.2ZKO.0/TWOWAY.2ZKO.0.pdb", "motifs/two_ways/TWOWAY.2ZY6.0/TWOWAY.2ZY6.0.pdb", "motifs/two_ways/TWOWAY.2ZY6.1/TWOWAY.2ZY6.1.pdb", "motifs/two_ways/TWOWAY.353D.0/TWOWAY.353D.0.pdb", "motifs/two_ways/TWOWAY.354D.0/TWOWAY.354D.0.pdb", "motifs/two_ways/TWOWAY.397D.0/TWOWAY.397D.0.pdb", "motifs/two_ways/TWOWAY.3AM1.0/TWOWAY.3AM1.0.pdb", "motifs/two_ways/TWOWAY.3B31.0/TWOWAY.3B31.0.pdb", "motifs/two_ways/TWOWAY.3BNO.0/TWOWAY.3BNO.0.pdb", "motifs/two_ways/TWOWAY.3BNO.1/TWOWAY.3BNO.1.pdb", "motifs/two_ways/TWOWAY.3BNO.2/TWOWAY.3BNO.2.pdb", "motifs/two_ways/TWOWAY.3BNO.3/TWOWAY.3BNO.3.pdb", "motifs/two_ways/TWOWAY.3BNO.4/TWOWAY.3BNO.4.pdb", "motifs/two_ways/TWOWAY.3BNO.6/TWOWAY.3BNO.6.pdb", "motifs/two_ways/TWOWAY.3BNO.7/TWOWAY.3BNO.7.pdb", "motifs/two_ways/TWOWAY.3BNQ.0/TWOWAY.3BNQ.0.pdb", "motifs/two_ways/TWOWAY.3BNQ.1/TWOWAY.3BNQ.1.pdb", "motifs/two_ways/TWOWAY.3BNQ.2/TWOWAY.3BNQ.2.pdb", "motifs/two_ways/TWOWAY.3BNQ.3/TWOWAY.3BNQ.3.pdb", "motifs/two_ways/TWOWAY.3BNQ.4/TWOWAY.3BNQ.4.pdb", "motifs/two_ways/TWOWAY.3BNQ.5/TWOWAY.3BNQ.5.pdb", "motifs/two_ways/TWOWAY.3BNQ.6/TWOWAY.3BNQ.6.pdb", "motifs/two_ways/TWOWAY.3BNQ.7/TWOWAY.3BNQ.7.pdb", "motifs/two_ways/TWOWAY.3CGP.0/TWOWAY.3CGP.0.pdb", "motifs/two_ways/TWOWAY.3CGS.0/TWOWAY.3CGS.0.pdb", "motifs/two_ways/TWOWAY.3CJZ.0/TWOWAY.3CJZ.0.pdb", "motifs/two_ways/TWOWAY.3DIL.0/TWOWAY.3DIL.0.pdb", "motifs/two_ways/TWOWAY.3DIL.1/TWOWAY.3DIL.1.pdb", "motifs/two_ways/TWOWAY.3DIL.2/TWOWAY.3DIL.2.pdb", "motifs/two_ways/TWOWAY.3DIL.3/TWOWAY.3DIL.3.pdb", "motifs/two_ways/TWOWAY.3DIL.4/TWOWAY.3DIL.4.pdb", "motifs/two_ways/TWOWAY.3DIL.5/TWOWAY.3DIL.5.pdb", "motifs/two_ways/TWOWAY.3DVZ.0/TWOWAY.3DVZ.0.pdb", "motifs/two_ways/TWOWAY.3E5C.0/TWOWAY.3E5C.0.pdb", "motifs/two_ways/TWOWAY.3EGZ.0/TWOWAY.3EGZ.0.pdb", "motifs/two_ways/TWOWAY.3FO4.0/TWOWAY.3FO4.0.pdb", "motifs/two_ways/TWOWAY.3FOZ.0/TWOWAY.3FOZ.0.pdb", "motifs/two_ways/TWOWAY.3FOZ.1/TWOWAY.3FOZ.1.pdb", "motifs/two_ways/TWOWAY.3GLP.0/TWOWAY.3GLP.0.pdb", "motifs/two_ways/TWOWAY.3GLP.1/TWOWAY.3GLP.1.pdb", "motifs/two_ways/TWOWAY.3GLP.2/TWOWAY.3GLP.2.pdb", "motifs/two_ways/TWOWAY.3GLP.3/TWOWAY.3GLP.3.pdb", "motifs/two_ways/TWOWAY.3GX5.0/TWOWAY.3GX5.0.pdb", "motifs/two_ways/TWOWAY.3GX5.1/TWOWAY.3GX5.1.pdb", "motifs/two_ways/TWOWAY.3GX5.2/TWOWAY.3GX5.2.pdb", "motifs/two_ways/TWOWAY.3LA5.0/TWOWAY.3LA5.0.pdb", "motifs/two_ways/TWOWAY.3LOA.0/TWOWAY.3LOA.0.pdb", "motifs/two_ways/TWOWAY.3LOA.1/TWOWAY.3LOA.1.pdb", "motifs/two_ways/TWOWAY.3LRR.0/TWOWAY.3LRR.0.pdb", "motifs/two_ways/TWOWAY.3MEI.0/TWOWAY.3MEI.0.pdb", "motifs/two_ways/TWOWAY.3MEI.1/TWOWAY.3MEI.1.pdb", "motifs/two_ways/TWOWAY.3MEI.2/TWOWAY.3MEI.2.pdb", "motifs/two_ways/TWOWAY.3MXH.2/TWOWAY.3MXH.2.pdb", "motifs/two_ways/TWOWAY.3NJ7.0/TWOWAY.3NJ7.0.pdb", "motifs/two_ways/TWOWAY.3NJ7.1/TWOWAY.3NJ7.1.pdb", "motifs/two_ways/TWOWAY.3NJ7.2/TWOWAY.3NJ7.2.pdb", "motifs/two_ways/TWOWAY.3NJ7.3/TWOWAY.3NJ7.3.pdb", "motifs/two_ways/TWOWAY.3NJ7.4/TWOWAY.3NJ7.4.pdb", "motifs/two_ways/TWOWAY.3NJ7.5/TWOWAY.3NJ7.5.pdb", "motifs/two_ways/TWOWAY.3NKB.0/TWOWAY.3NKB.0.pdb", "motifs/two_ways/TWOWAY.3NPQ.0/TWOWAY.3NPQ.0.pdb", "motifs/two_ways/TWOWAY.3NPQ.1/TWOWAY.3NPQ.1.pdb", "motifs/two_ways/TWOWAY.3NPQ.2/TWOWAY.3NPQ.2.pdb", "motifs/two_ways/TWOWAY.3P59.1/TWOWAY.3P59.1.pdb", "motifs/two_ways/TWOWAY.3R1C.0/TWOWAY.3R1C.0.pdb", "motifs/two_ways/TWOWAY.3R1C.1/TWOWAY.3R1C.1.pdb", "motifs/two_ways/TWOWAY.3R1C.10/TWOWAY.3R1C.10.pdb", "motifs/two_ways/TWOWAY.3R1C.11/TWOWAY.3R1C.11.pdb", "motifs/two_ways/TWOWAY.3R1C.12/TWOWAY.3R1C.12.pdb", "motifs/two_ways/TWOWAY.3R1C.13/TWOWAY.3R1C.13.pdb", "motifs/two_ways/TWOWAY.3R1C.14/TWOWAY.3R1C.14.pdb", "motifs/two_ways/TWOWAY.3R1C.15/TWOWAY.3R1C.15.pdb", "motifs/two_ways/TWOWAY.3R1C.16/TWOWAY.3R1C.16.pdb", "motifs/two_ways/TWOWAY.3R1C.17/TWOWAY.3R1C.17.pdb", "motifs/two_ways/TWOWAY.3R1C.18/TWOWAY.3R1C.18.pdb", "motifs/two_ways/TWOWAY.3R1C.19/TWOWAY.3R1C.19.pdb", "motifs/two_ways/TWOWAY.3R1C.2/TWOWAY.3R1C.2.pdb", "motifs/two_ways/TWOWAY.3R1C.20/TWOWAY.3R1C.20.pdb", "motifs/two_ways/TWOWAY.3R1C.21/TWOWAY.3R1C.21.pdb", "motifs/two_ways/TWOWAY.3R1C.22/TWOWAY.3R1C.22.pdb", "motifs/two_ways/TWOWAY.3R1C.23/TWOWAY.3R1C.23.pdb", "motifs/two_ways/TWOWAY.3R1C.24/TWOWAY.3R1C.24.pdb", "motifs/two_ways/TWOWAY.3R1C.25/TWOWAY.3R1C.25.pdb", "motifs/two_ways/TWOWAY.3R1C.26/TWOWAY.3R1C.26.pdb", "motifs/two_ways/TWOWAY.3R1C.27/TWOWAY.3R1C.27.pdb", "motifs/two_ways/TWOWAY.3R1C.28/TWOWAY.3R1C.28.pdb", "motifs/two_ways/TWOWAY.3R1C.29/TWOWAY.3R1C.29.pdb", "motifs/two_ways/TWOWAY.3R1C.3/TWOWAY.3R1C.3.pdb", "motifs/two_ways/TWOWAY.3R1C.30/TWOWAY.3R1C.30.pdb", "motifs/two_ways/TWOWAY.3R1C.31/TWOWAY.3R1C.31.pdb", "motifs/two_ways/TWOWAY.3R1C.32/TWOWAY.3R1C.32.pdb", "motifs/two_ways/TWOWAY.3R1C.33/TWOWAY.3R1C.33.pdb", "motifs/two_ways/TWOWAY.3R1C.34/TWOWAY.3R1C.34.pdb", "motifs/two_ways/TWOWAY.3R1C.35/TWOWAY.3R1C.35.pdb", "motifs/two_ways/TWOWAY.3R1C.4/TWOWAY.3R1C.4.pdb", "motifs/two_ways/TWOWAY.3R1C.5/TWOWAY.3R1C.5.pdb", "motifs/two_ways/TWOWAY.3R1C.6/TWOWAY.3R1C.6.pdb", "motifs/two_ways/TWOWAY.3R1C.7/TWOWAY.3R1C.7.pdb", "motifs/two_ways/TWOWAY.3R1C.8/TWOWAY.3R1C.8.pdb", "motifs/two_ways/TWOWAY.3R1C.9/TWOWAY.3R1C.9.pdb", "motifs/two_ways/TWOWAY.3R1D.1/TWOWAY.3R1D.1.pdb", "motifs/two_ways/TWOWAY.3R1D.4/TWOWAY.3R1D.4.pdb", "motifs/two_ways/TWOWAY.3R2D.0/TWOWAY.3R2D.0.pdb", "motifs/two_ways/TWOWAY.3R2D.1/TWOWAY.3R2D.1.pdb", "motifs/two_ways/TWOWAY.3RW6.0/TWOWAY.3RW6.0.pdb", "motifs/two_ways/TWOWAY.3RW6.1/TWOWAY.3RW6.1.pdb", "motifs/two_ways/TWOWAY.3RW6.2/TWOWAY.3RW6.2.pdb", "motifs/two_ways/TWOWAY.3RW6.3/TWOWAY.3RW6.3.pdb", "motifs/two_ways/TWOWAY.3RW6.4/TWOWAY.3RW6.4.pdb", "motifs/two_ways/TWOWAY.3RW6.5/TWOWAY.3RW6.5.pdb", "motifs/two_ways/TWOWAY.3RW6.6/TWOWAY.3RW6.6.pdb", "motifs/two_ways/TWOWAY.3RW6.7/TWOWAY.3RW6.7.pdb", "motifs/two_ways/TWOWAY.3SJ2.0/TWOWAY.3SJ2.0.pdb", "motifs/two_ways/TWOWAY.3SJ2.1/TWOWAY.3SJ2.1.pdb", "motifs/two_ways/TWOWAY.3SJ2.2/TWOWAY.3SJ2.2.pdb", "motifs/two_ways/TWOWAY.3SYW.0/TWOWAY.3SYW.0.pdb", "motifs/two_ways/TWOWAY.3SYW.1/TWOWAY.3SYW.1.pdb", "motifs/two_ways/TWOWAY.3SYW.2/TWOWAY.3SYW.2.pdb", "motifs/two_ways/TWOWAY.3SZX.0/TWOWAY.3SZX.0.pdb", "motifs/two_ways/TWOWAY.3SZX.1/TWOWAY.3SZX.1.pdb", "motifs/two_ways/TWOWAY.3SZX.2/TWOWAY.3SZX.2.pdb", "motifs/two_ways/TWOWAY.3TD0.0/TWOWAY.3TD0.0.pdb", "motifs/two_ways/TWOWAY.3TD0.1/TWOWAY.3TD0.1.pdb", "motifs/two_ways/TWOWAY.3TD0.2/TWOWAY.3TD0.2.pdb", "motifs/two_ways/TWOWAY.3TD0.3/TWOWAY.3TD0.3.pdb", "motifs/two_ways/TWOWAY.3TD1.0/TWOWAY.3TD1.0.pdb", "motifs/two_ways/TWOWAY.3TD1.3/TWOWAY.3TD1.3.pdb", "motifs/two_ways/TWOWAY.3TZR.0/TWOWAY.3TZR.0.pdb", "motifs/two_ways/TWOWAY.3TZR.1/TWOWAY.3TZR.1.pdb", "motifs/two_ways/TWOWAY.3TZR.2/TWOWAY.3TZR.2.pdb", "motifs/two_ways/TWOWAY.3UMY.0/TWOWAY.3UMY.0.pdb", "motifs/two_ways/TWOWAY.3UMY.1/TWOWAY.3UMY.1.pdb", "motifs/two_ways/TWOWAY.3WBM.0/TWOWAY.3WBM.0.pdb", "motifs/two_ways/TWOWAY.3WBM.1/TWOWAY.3WBM.1.pdb", "motifs/two_ways/TWOWAY.3WBM.2/TWOWAY.3WBM.2.pdb", "motifs/two_ways/TWOWAY.3WBM.3/TWOWAY.3WBM.3.pdb", "motifs/two_ways/TWOWAY.3ZP8.0/TWOWAY.3ZP8.0.pdb", "motifs/two_ways/TWOWAY.402D.0/TWOWAY.402D.0.pdb", "motifs/two_ways/TWOWAY.405D.0/TWOWAY.405D.0.pdb", "motifs/two_ways/TWOWAY.405D.1/TWOWAY.405D.1.pdb", "motifs/two_ways/TWOWAY.409D.0/TWOWAY.409D.0.pdb", "motifs/two_ways/TWOWAY.409D.1/TWOWAY.409D.1.pdb", "motifs/two_ways/TWOWAY.409D.2/TWOWAY.409D.2.pdb", "motifs/two_ways/TWOWAY.420D.0/TWOWAY.420D.0.pdb", "motifs/two_ways/TWOWAY.420D.1/TWOWAY.420D.1.pdb", "motifs/two_ways/TWOWAY.439D.0/TWOWAY.439D.0.pdb", "motifs/two_ways/TWOWAY.4BW0.0/TWOWAY.4BW0.0.pdb", "motifs/two_ways/TWOWAY.4E48.0/TWOWAY.4E48.0.pdb", "motifs/two_ways/TWOWAY.4E48.1/TWOWAY.4E48.1.pdb", "motifs/two_ways/TWOWAY.4E48.2/TWOWAY.4E48.2.pdb", "motifs/two_ways/TWOWAY.4E48.3/TWOWAY.4E48.3.pdb", "motifs/two_ways/TWOWAY.4E48.4/TWOWAY.4E48.4.pdb", "motifs/two_ways/TWOWAY.4E48.5/TWOWAY.4E48.5.pdb", "motifs/two_ways/TWOWAY.4E59.0/TWOWAY.4E59.0.pdb", "motifs/two_ways/TWOWAY.4E5C.0/TWOWAY.4E5C.0.pdb", "motifs/two_ways/TWOWAY.4FNJ.0/TWOWAY.4FNJ.0.pdb", "motifs/two_ways/TWOWAY.4FNJ.1/TWOWAY.4FNJ.1.pdb", "motifs/two_ways/TWOWAY.4K27.0/TWOWAY.4K27.0.pdb", "motifs/two_ways/TWOWAY.4K27.1/TWOWAY.4K27.1.pdb", "motifs/two_ways/TWOWAY.4K27.2/TWOWAY.4K27.2.pdb", "motifs/two_ways/TWOWAY.4K27.3/TWOWAY.4K27.3.pdb", "motifs/two_ways/TWOWAY.4K31.0/TWOWAY.4K31.0.pdb", "motifs/two_ways/TWOWAY.4K31.1/TWOWAY.4K31.1.pdb", "motifs/two_ways/TWOWAY.4K31.2/TWOWAY.4K31.2.pdb", "motifs/two_ways/TWOWAY.4K31.3/TWOWAY.4K31.3.pdb", "motifs/two_ways/TWOWAY.4KQ0.0/TWOWAY.4KQ0.0.pdb", "motifs/two_ways/TWOWAY.4KQ0.1/TWOWAY.4KQ0.1.pdb", "motifs/two_ways/TWOWAY.4KQ0.2/TWOWAY.4KQ0.2.pdb", "motifs/two_ways/TWOWAY.4KQ0.3/TWOWAY.4KQ0.3.pdb", "motifs/two_ways/TWOWAY.4KQ0.4/TWOWAY.4KQ0.4.pdb", "motifs/two_ways/TWOWAY.4KTG.0/TWOWAY.4KTG.0.pdb", "motifs/two_ways/TWOWAY.4KTG.1/TWOWAY.4KTG.1.pdb", "motifs/two_ways/TWOWAY.4KTG.2/TWOWAY.4KTG.2.pdb", "motifs/two_ways/TWOWAY.4KTG.3/TWOWAY.4KTG.3.pdb", "motifs/two_ways/TWOWAY.4KTG.4/TWOWAY.4KTG.4.pdb", "motifs/two_ways/TWOWAY.4KYY.0/TWOWAY.4KYY.0.pdb", "motifs/two_ways/TWOWAY.4KYY.1/TWOWAY.4KYY.1.pdb", "motifs/two_ways/TWOWAY.4KYY.2/TWOWAY.4KYY.2.pdb", "motifs/two_ways/TWOWAY.4L8H.0/TWOWAY.4L8H.0.pdb", "motifs/two_ways/TWOWAY.4LGT.2/TWOWAY.4LGT.2.pdb", "motifs/two_ways/TWOWAY.4LGT.3/TWOWAY.4LGT.3.pdb", "motifs/two_ways/TWOWAY.4LVZ.0/TWOWAY.4LVZ.0.pdb", "motifs/two_ways/TWOWAY.4M4O.0/TWOWAY.4M4O.0.pdb", "motifs/two_ways/TWOWAY.4M4O.1/TWOWAY.4M4O.1.pdb", "motifs/two_ways/TWOWAY.4N0T.0/TWOWAY.4N0T.0.pdb", "motifs/two_ways/TWOWAY.4N0T.2/TWOWAY.4N0T.2.pdb", "motifs/two_ways/TWOWAY.4N0T.3/TWOWAY.4N0T.3.pdb", "motifs/two_ways/TWOWAY.4OO8.0/TWOWAY.4OO8.0.pdb", "motifs/two_ways/TWOWAY.4OO8.1/TWOWAY.4OO8.1.pdb", "motifs/two_ways/TWOWAY.4OO8.2/TWOWAY.4OO8.2.pdb", "motifs/two_ways/TWOWAY.4OO8.3/TWOWAY.4OO8.3.pdb", "motifs/two_ways/TWOWAY.4OO8.4/TWOWAY.4OO8.4.pdb", "motifs/two_ways/TWOWAY.4P95.0/TWOWAY.4P95.0.pdb", "motifs/two_ways/TWOWAY.4P95.1/TWOWAY.4P95.1.pdb", "motifs/two_ways/TWOWAY.4P95.2/TWOWAY.4P95.2.pdb"];
motifurls.push("motifs/helix/helix.pdb");
var motifnames = [];
var motifcount = 0;
// hairpins/HAIRPIN.1A9N.0/HAIRPIN.1A9N.0.pdb
// helix/helix.pdb : helix/ref_frames.dat, helix/thumb.png

for(var i = 0; i < motifurls.length; i++) {
  var url = motifurls[i];
  var name = url.substring(url.lastIndexOf("/") + 1, url.lastIndexOf(".pdb"));
  // console.log(url);
  var imgurl = url.substring(0, url.lastIndexOf("/")) + "/thumb.png";
  name = name.replace(/NWAY/g, 'N-Junction');
  name = name.replace(/helix/g, "Helix");
  name = name.replace(/HAIRPIN/g, "Hairpin");
  if(url.indexOf("tertiary_contacts") >= 0) name = name.replace(/TC\./g, "Tertiary Contact.");
  name = name.replace(/TWOWAY/g, "2-Junction");
  name = name.replace(/\./g, " ");
  motifnames[i] = name;

  var img = document.createElement("img");
  img.setAttribute("id", "motifurls_" + i);
  img.onload = function() {
    if(this.naturalWidth !== "undefined" && this.naturalWidth !== 0) {
      motifcount++;

      var num = parseInt(this.id.substring(this.id.indexOf("_") + 1));

      var container = document.createElement("div");
      container.className = "motifContainer";
      container.appendChild(this);
      motifContainers.push(container);

      var txt = document.createElement("span");
      txt.style.marginLeft = "5px";
      txt.innerHTML = motifnames[num];
      container.appendChild(txt);

      var overlay = document.createElement("div");
      overlay.className = "motifOverlay";

      var btn = document.createElement("span");
      btn.className = "motifButton";
      btn.innerHTML = "+";
      btn.setAttribute('id', num + "_Mbtn");
      
      btn.onclick = function() {
        loadMolecule(motifurls[parseInt(this.id.substring(0, this.id.indexOf("_")))]);
      }
          
      overlay.appendChild(btn);
      container.appendChild(overlay);    
      scrollContainer.appendChild(container);
      scrollbar.recalculateLayout();

      if(motifcount == (motifurls.length)) {
        resortMotifs();
        document.getElementById("loadingMotif").style.opacity = 0;
        setTimeout(function() {
          document.getElementById("loadingMotif").style.display = "none";
        }, 500);
      }

    }
  }
  img.src = imgurl;
  img.className = "motifThumb";
}

function tryloadMolecule(url) {
  if(doneLoading) {
    loadMolecule(url);
  } else {
    setTimeout(function() { tryloadMolecule(url); }, 200);
  }
}
